"use strict";
module.exports = async function (page) {
    const handler = () => {
        let query = window.navigator.permissions.query;
        Permissions.prototype.query = function (parameters) {
            if (parameters?.name?.length > 0) {
                return Promise.resolve({
                    onchange: null,
                    state: 'denied',
                });
            }
            return query(parameters);
        };
    };
    await page.evaluate(handler);
    await page.evaluateOnNewDocument(handler);
    return page;
};
//# sourceMappingURL=permissions.js.map